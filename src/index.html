<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  <link rel="stylesheet" href="css/output.css">
  <title>Frontend Mentor | Tip calculator app</title>

  <!-- Feel free to remove these styles or customise in your own stylesheet üëç -->
  <style>
    /* .attribution { font-size: 11px; text-align: center; }
    .attribution a { color: hsl(228, 45%, 44%); } */

    #billInput {
      background-image: url('./images/icon-dollar.svg');
      background-repeat: no-repeat;
      background-position: left center;
      background-size: auto 20px;
      background-origin: content-box;
      outline: none;
    }

    #billInput:focus {
      outline: 3px solid hsl(172, 67%, 45%);
    }

    #numberpplInput {
      background-image: url('./images/icon-person.svg');
      background-repeat: no-repeat;
      background-position: left center;
      background-size: auto 20px;
      background-origin: content-box;
      outline: none;
    }

    #numberpplInput:focus {
      outline: 3px solid hsl(172, 67%, 45%);
    }

    #customInput {
      outline: none;
    }

    #customInput::placeholder {
      color: hsl(184, 14%, 56%);
      text-align: right;
    }

    #customInput:focus {
      outline: 3px solid hsl(172, 67%, 45%);
    }

    .selected {
      background: hsl(185, 41%, 84%);
      color: hsl(183, 100%, 15%);
    }
  </style>
</head>
<body class="bg-light-grayish-cyan font-spaceMono font-bold flex flex-col xl:justify-center xl:items-center xl:h-[100vh]">

  <header class="flex justify-center pt-[70px] pb-[60px] xl:pt-0">
    <img src="images/logo.svg" alt="SPLITTER Logo" class="scale-150 xl:scale-100">
  </header>

  <main class="flex flex-col bg-white py-[50px] rounded-tl-3xl rounded-tr-3xl xl:w-[1105px] xl:h-auto xl:rounded-bl-3xl xl:rounded-br-3xl xl:flex-row xl:px-[50px] xl:gap-[50px]">
      <!-- Left hand side -->
      <div class="xl:w-1/2">
        <div class="flex flex-col px-6 xl:px-0">
          <span class="block text-grayish-cyan text-lg">Bill</span>
          <input id="billInput" type="text" name="bill" class="text-[24px] py-2 px-5 text-very-dark-cyan bg-very-light-grayish-cyan text-right mt-3">
        </div>

        <div class="flex flex-col mt-[50px] px-6 xl:px-0">
          <span class="block text-grayish-cyan text-lg">Select Tip %</span>
          <div class="text-[24px] text-white mt-3 flex flex-wrap gap-4">
              <button class="bg-very-dark-cyan py-2 rounded-md flex-grow basis-1/3 w-1/2 xl:basis-1/4" id="5per">5%</button>
              <button class="bg-very-dark-cyan py-2 rounded-md flex-grow basis-1/3 w-1/2 xl:basis-1/4" id="10per">10%</button>
              <button class="bg-very-dark-cyan py-2 rounded-md flex-grow basis-1/3 w-1/2 xl:basis-1/4" id="15per">15%</button>
              <button class="bg-very-dark-cyan py-2 rounded-md flex-grow basis-1/3 w-1/2 xl:basis-1/4" id="25per">25%</button>
              <button class="bg-very-dark-cyan py-2 rounded-md flex-grow basis-1/3 w-1/2 xl:basis-1/4" id="50per">50%</button>
              <input id="customInput" class="bg-very-light-grayish-cyan text-grayish-cyan py-2 w-1/2 rounded-md text-right flex-grow basis-1/3 xl:basis-1/4 pr-4" placeholder="Custom"></input>
          </div>
      </div>

      <div>
        <div class="flex flex-col mt-[50px] px-6 xl:px-0">
          <div class="flex gap-1 items-center justify-between">
            <span class="block text-grayish-cyan text-lg">Number of People</span>
            <span id="zerowarning" class="text-red-500 text-sm hidden xl:text-lg">Can't be zero</span>  
          </div>
          <input id="numberpplInput" type="text" name="numberofpeople" class="text-[24px] py-2 px-5 text-very-dark-cyan bg-very-light-grayish-cyan text-right mt-3">
        </div>

      </div>
    </div>

    <!-- Right Hand Side -->
    <div class="xl:w-1/2">
      <section class="px-3 xl:px-0">
        <div class="bg-very-dark-cyan mt-[50px] px-[35px] pt-[65px] pb-[33px] rounded-3xl xl:mt-0 flex flex-col xl:justify-between xl:h-[485px] xl:w-auto xl:pt-[55px]">
          <div>
            <div class="flex justify-between items-center">
              <div>
                <span class="block text-white text-lg">Tip Amount</span>
                <span class="block text-grayish-cyan text-lg">/ person</span>
              </div>
      
              <span class="block text-strong-cyan text-3xl xl:text-6xl" id="tipAmount">$0.00</span>
            </div>
      
            <div class="flex justify-between items-center mt-[50px]">
              <div>
                <span class="block text-white text-lg">Total</span>
                <span class="block text-grayish-cyan text-lg">/ person</span>
              </div>
      
              <span class="block text-strong-cyan text-3xl xl:text-6xl" id="totalPlusTip">$0.00</span>
            </div>
          </div>
          <button class="bg-strong-cyan text-very-dark-cyan py-2 w-full rounded-md mt-[50px] text-[24px] uppercase hover:bg-light-grayish-cyan" id="resetBtn">Reset</button>
    
        </div>  
      
      </section>
    </div>
  </main>

  <div class="attribution flex flex-col items-center mt-4">
    <span class="block">Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank" class="text-very-dark-cyan">Frontend Mentor</a></span>
    <span class="block">Coded by <a href="https://github.com/not-ludwig" class="text-very-dark-cyan">Ludwig Cabrera ‚ù§Ô∏è</a></span>
  </div>

  <script>

    let currentTip = 0;

    let bill = document.getElementById("billInput");
    let tipAmount = document.getElementById("tipAmount");
    let people = document.getElementById("numberpplInput");
    let totalPerPerson = document.getElementById("totalPlusTip");
    let fiveper = document.getElementById("5per");
    let tenper = document.getElementById("10per");
    let fifteenper = document.getElementById("15per");
    let twentyfiveper = document.getElementById("25per");
    let fiftyper = document.getElementById("50per");
    let customInput = document.getElementById("customInput");
    let resetBtn = document.getElementById("resetBtn");
    let zerowarning = document.getElementById("zerowarning");

    fiveper.addEventListener('click', function(){
      fiveper.classList.toggle('selected');
      tenper.classList.remove("selected");
      fifteenper.classList.remove("selected");
      twentyfiveper.classList.remove("selected");
      fiftyper.classList.remove("selected");
      currentTip = 5;
    });
    
    tenper.addEventListener('click', function(){
      tenper.classList.toggle('selected');
      fiveper.classList.remove("selected");
      fifteenper.classList.remove("selected");
      twentyfiveper.classList.remove("selected");
      fiftyper.classList.remove("selected");
      currentTip = 10;
    });

    fifteenper.addEventListener('click', function(){
      fifteenper.classList.toggle('selected');
      fiveper.classList.remove("selected");
      tenper.classList.remove("selected");
      twentyfiveper.classList.remove("selected");
      fiftyper.classList.remove("selected");
      currentTip = 15;
    });

    twentyfiveper.addEventListener('click', function(){
      twentyfiveper.classList.toggle('selected');
      fiveper.classList.remove("selected");
      tenper.classList.remove("selected");
      fifteenper.classList.remove("selected");
      fiftyper.classList.remove("selected");
      currentTip = 25;
    });

    fiftyper.addEventListener('click', function(){
      fiftyper.classList.toggle('selected');
      fiveper.classList.remove("selected");
      tenper.classList.remove("selected");
      fifteenper.classList.remove("selected");
      twentyfiveper.classList.remove("selected");
      currentTip = 50;
    });

    resetBtn.addEventListener('click', function(){
      bill.value = "";
      people.value = "";
      customInput.value = "";
    });

    customInput.addEventListener("input", function(){
      fiftyper.classList.remove('selected');
      fiveper.classList.remove("selected");
      tenper.classList.remove("selected");
      fifteenper.classList.remove("selected");
      twentyfiveper.classList.remove("selected");

      currentTip = parseInt(customInput.value)
    });

    people.addEventListener("input", (e) => {
      if(e.target.value == 0){
        zerowarning.style.display = "block";
      } else{
        zerowarning.style.display = "none";
        tipAmount.textContent = "$" + (bill.value * (currentTip / 100) / people.value).toFixed(2);
        totalPerPerson.textContent = "$" + ((bill.value / e.target.value) + bill.value * (currentTip / 100) / people.value).toFixed(2);
      }
    });
  </script>
</body>
</html>